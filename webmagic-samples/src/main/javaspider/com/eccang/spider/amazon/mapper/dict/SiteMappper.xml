<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.eccang.spider.amazon.dao.dict.SiteDao">

    <cache eviction="LRU" type="com.eccang.spider.base.service.RedisCacheService"/>

    <resultMap id="SiteResultMap" type="Site">
        <result property="code" column="bas_code"/>
        <result property="site" column="bas_site"/>
        <result property="name" column="bas_name"/>
        <result property="crawl" column="bas_crawl"/>
        <result property="updateTime" column="bas_update_time"/>
    </resultMap>

    <select id="find" resultMap="SiteResultMap">
        SELECT * FROM base_amazon_site WHERE bas_code = #{0};
    </select>

    <!--根据域名查询一条记录-->
    <select id="findByDomain" resultMap="SiteResultMap">
        SELECT * FROM base_amazon_site WHERE bas_site = #{0};
    </select>

    <select id="findAll" resultMap="SiteResultMap">
        SELECT * FROM base_amazon_site;
    </select>

    <update id="update" parameterType="Site">
        UPDATE base_amazon_site
        SET
        bas_site = #{site},
        bas_name = #{name},
        bas_crawl = #{crawl}
        where
        bas_code = #{code}
    </update>

</mapper>