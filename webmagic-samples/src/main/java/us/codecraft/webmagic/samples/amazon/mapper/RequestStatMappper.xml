<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="us.codecraft.webmagic.samples.amazon.dao.RequestStatDao">

    <select id="findByConditionsCode" resultType="RequestStat">
        SELECT * FROM test_request_stat WHERE conditionsCode = #{conditionsCode}
    </select>

    <insert id="addOnDuplicate" parameterType="RequestStat">
        INSERT INTO
        test_request_stat(
        conditions,
        conditionsCode,
        firstPageTime,
        firstValidateTime,
        successCountBeforeValidate,
        successCount,
        validateCount,
        totalRequestCount,
        extra,
        requestCountor,
        isFirstValidate,
        isFirstPage
        )
        VALUES
        (#{conditions},
        #{conditionsCode},
        #{firstPageTime},
        #{firstValidateTime},
        #{successCountBeforeValidate},
        #{successCount},
        #{validateCount},
        #{totalRequestCount},
        #{extra},
        #{requestCountor},
        #{isFirstValidate},
        #{isFirstPage}
        )
        ON DUPLICATE KEY UPDATE
        conditions = #{conditions},
        conditionsCode = #{conditionsCode},
        firstPageTime = #{firstPageTime},
        firstValidateTime = #{firstValidateTime},
        successCountBeforeValidate = #{successCountBeforeValidate},
        successCount = #{successCount},
        validateCount = #{validateCount},
        updatetime = #{updatetime},
        totalRequestCount = #{totalRequestCount},
        extra = #{extra},
        requestCountor = #{requestCountor},
        isFirstValidate = #{isFirstValidate},
        isFirstPage = #{isFirstPage}
    </insert>

</mapper>